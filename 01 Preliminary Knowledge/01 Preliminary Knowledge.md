# 预备知识

## 前言
大家好，这里是一起读C++ Primer Plus第一期，也是C++ Primer Plus的第一章：预备知识。本期内容较多，但用处不大。

在正式开始之前，我先解决一下上两期的历史遗留问题：其一是Windows平台的编译，在使用g++命令前，我们需要先安装MinGW(Minimalist GNU for Windows)编译器，并配置环境变量。其二，WSL2是可以调试的。前两期视频存在一些问题，UP以后可能会重做。现在我更倾向于Visual Studio，以后可能也会用它来进行演示。

首先我们要回答这样一个问题：C++是什么？我们可以说，C++是一门较为“缝合”的语言。它从C语言继承而来，具有以C语言为代表的过程性语言的特点。另外，它又在C语言的基础上添加了以类为代表的面向对象的特性。此后，C++模板支持的泛型编程成为了它的第三个特点。

接下来，我们从这三个特点入手，了解一下将要学习的C++，究竟是怎样的一门语言。

## C语言
### 一门跨平台的语言

C语言诞生的一个推动因素是跨平台的需要。贝尔实验室的Dennis Ritchie在开发跨平台的UNIX操作系统时，意识到了汇编语言的不可移植性。汇编语言是低级语言，它直接操作硬件。但这样写出的程序，换了硬件就不灵了。举个例子，你给出一组指令，是先向前走两步，弯腰拿起桌上的水杯，左转向前走五步，从饮水机里接水。这组指令在你家是可行的，但换个地方，向前走两步就撞墙了。也就是说，这个程序不可移植。

因此，Ritchie在旧语言的基础上开发了既有低级语言的效率、硬件访问能力，又兼有高级语言的通用性、可移植性的C语言。它是依赖于编译器实现的。编译器是一种特殊的程序，它将高级语言翻译为特定计算机的内部语言。这样，就可以通过对每个平台使用不同的编译器来在不同的平台上使用同一个高级程序了。用刚才的例子来说，现在你只需要写，拿杯子接一杯水，而不用管怎么走，走几步——这些是编译器去实现的。

### 编译型语言&解释型语言

一般来说，高级语言分为两种，编译型语言和解释型语言。他们分别依赖于编译器和解释器。我们可以通俗地理解这两个概念。编译型语言就是做好一大桌菜，大家开吃；而解释型语言就是涮火锅，边涮边吃。前者做饭可能要花一会时间，但吃饭就吃得比较痛快。后者不用准备，架好锅就开涮，但是首先你得有锅，而且要自己涮。对应过来，编译型语言编译完之后就不再需要编译器了，它已经是可以运行的程序；而解释型语言在运行时是需要解释器的，而且它是“走一步看一步”，逐条语句执行。

### 过程化编程

一般来说，计算机语言要处理两个概念——数据和算法。数据是程序使用和处理的信息，而算法是程序使用的方法。C语言在最初面世的时候是过程性语言，也就是说，它更注重算法。使用C语言编程时，会更注重计算机应该采取哪些操作，然后用编程语言去实现这些操作。

#### 结构化编程

随着程序规模的扩大，早期的程序语言，如FORTRAN和BASIC都会遇到组织方面的问题。Goto语句的大量使用使得程序晦涩难懂，跳来跳去的逻辑让人晕头转向。正如Dijkstra算法发明者Edsger Wybe Dijkstra所言：“一个有过BASIC编程经历的人是很难学会好的编程习惯的。作为一个潜在的程序员，他们已经坏掉了，并且无法修复。”C语言的结构化编程解决了这个问题：它将分支限制为一小组行为良好的结构，如for、while循环，do-while循环和if-else语句。

#### 自顶向下的设计

在C语言中，秉持着一种理念，就是自顶向下的原则。这种理念将大型程序不断分解，直到分解成小型、易于编写的模块。

## C++：面向对象编程

C++的原则之一是OOP，也就是面向对象编程。我们刚刚提到计算机语言处理的两个概念是数据和算法，既然面向过程编程注重的是算法，那么面向对象编程更看重的则是数据。

我们仍然举个例子来解释这两者之间的区别。我们以一道小学数学题为例：有五个苹果，再放七个苹果，最后有几个苹果？

过程性编程的做法会是这样的：先把问题抽象为一个数学问题，也就是5+7，然后再用编程去计算5+7的结果。而面向对象编程会与此相反。它会从数据出发。先定义一个苹果类，它有数量，有定义的加法运算，也有输出自己有几个苹果的函数。接着，我们创建两个苹果对象，一个有5个苹果，一个有7个苹果，用一个新苹果对象保存它们的和，再调用这个新对象的输出函数，就知道最后有几个苹果了。这样看起来很蠢，但当项目越来越复杂，这种编程方式自会崭露头角，显示出自己的优势。

从这个例子里面我们也可以对两种理念的区别窥见一斑：过程性编程倾向于做抽象，让问题满足语言的过程性方法，而面向对象的编程方法则是让语言来满足问题的要求，设计出与问题的本质特性相对应的数据格式。或者说，面向对象的编程方法更少做抽象，更多的是把语言具象化。

当然了，OOP不仅仅是将数据和方法合并为类定义。它有助于创建可重用的代码，减少大量工作；信息隐藏可以保护数据，避免其遭到不适当的访问。多态能创建多个定义，通过上下文确定具体含义；继承能从旧类派生出新类，等等等等。OOP引入了很多新的理念，他们很大程度上都是用来表示概念而非完成任务的。有时我们不再使用自顶向下的编程方法，而是采用自下而上的编程方法。

## 泛型编程

泛型编程依赖于模板而实现。数据类型有很多，有些处理工具能针对多种数据类型工作，这时候如果不想为每种数据类型都写一遍定义，便可以运用泛型编程，只编写一个泛型函数，并将其用于各种实际类型。比如一个排序函数，它可以对任何能比较大小的数据排序，但实现起来却要为每种数据类型都写一种实现。这个时候模板函数就可以解决这个问题。

## C++与C

C++是C的超集，这也就意味着，任何有效的C程序都是有效的C++程序。同时这也意味着C++可以使用已有的C软件库。用轮子总是比造轮子简单的，这也助推了C++的广泛传播。++符号是C语言中的递增运算符，它会将变量+1。这个名称也表明，C++是C的扩充版本。C++的兼收并蓄，使它兼具了面向对象编程的高级抽象能力与C的低级硬件访问能力。

## 程序创建的技巧

关于程序创建，书上说了很多，但在今天这个IDE满天飞的时代，我的建议是：下载一个IDE。Code::Blocks，Dev-C++，Visual Studio，都是不错的选择。至于环境配置……还是以后再说吧。